<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="canonical" type="text/html" href="//localhost:1313/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="//localhost:1313/docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Documentation | Cornucopia</title>
<meta name="description" content="Cornucopia">
<meta property="og:title" content="Documentation" />
<meta property="og:description" content="Cornucopia" />
<meta property="og:type" content="website" />
<meta property="og:url" content="//localhost:1313/docs/" /><meta property="og:site_name" content="Cornucopia" />

<meta itemprop="name" content="Documentation">
<meta itemprop="description" content="Cornucopia"><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content="Cornucopia"/>





<link href="/scss/main.css" rel="stylesheet">

<script
  src="https://code.jquery.com/jquery-3.6.3.min.js"
  integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ=="
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/prism.css"/>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar navbar-dark js-navbar-scroll">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">Cornucopia</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/privacy/"><span>Privacy</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-0be6f9e5c75d1a433bd612cc602871b2">Linux</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.1: <a href="#pg-967f17c9d6dbb24b353b383346ea5ba1">DNSMasq for DNS</a></li>


    
  
    
    
	
<li>1.2: <a href="#pg-726d03a9979fc6109d0af2ddcc5220bf">Maintaining a Linux Server</a></li>


    
  
    
    
	
<li>1.3: <a href="#pg-d5778c7176fe78ed282ff13d395a065a">Uncomplicated Firewall (UFW)</a></li>


    
  
    
    
	
<li>1.4: <a href="#pg-9790ade7e4787a73f84175b4eaf519e2">Configure time zone</a></li>


    
  
    
    
	
<li>1.5: <a href="#pg-775cded8010d40cd6e397e8dadc27578">Installing Arch Linux</a></li>


    
  
    
    
	
<li>1.6: <a href="#pg-857ae677b93322583df3cb9fbe8db571">Mounting a network share</a></li>


    
  
    
    
	
<li>1.7: <a href="#pg-0a0e8e03f6e1567ad67f9dccc9a684e5">Oracle Linux</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.7.1: <a href="#pg-17cead64e64e569f4a7806f81b63f639">Updating Oracle Linux</a></li>


    
  
    
    
	
<li>1.7.2: <a href="#pg-2b9546606f181f60ded6001af254c348">About Oracle Linux</a></li>


    
  

    </ul>
    
  
    
    
	
<li>1.8: <a href="#pg-e70f4f2b41105fc25dccdcd31cbe3d9d">Raspberry Pi</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>1.8.1: <a href="#pg-355c8f64e7e7b10b76082bd271021b48">Setup Headless Raspberry Pi</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-63ab6271f8cc213bd7878bd325a798da">Microsoft</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-04e86dd87ffdc0b2ff2f41b280449a37">KMS</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1.1: <a href="#pg-ba3d56c5ab333f862cd6be9093925dea">Install KMS</a></li>


    
  
    
    
	
<li>2.1.2: <a href="#pg-6b7f4973907e5d181aaa1fd9e3915140">General Syntax</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.2: <a href="#pg-846dde03355647c6690d2fd3a31bdae7">Disabling Cipher Suites</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-a005de9790355be9d2c5fbb1644d1eba">Enable Remote Desktop</a></li>


    
  
    
    
	
<li>2.4: <a href="#pg-7cb3a17cbe9b8c4c348b490048bd957e">Force a remote group policy update</a></li>


    
  
    
    
	
<li>2.5: <a href="#pg-245029b2f6f475b7f9520b0a4694cd2e">Join AD Domain</a></li>


    
  
    
    
	
<li>2.6: <a href="#pg-d56ffd3add3d194f339be7e367315d84">openSSH</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.6.1: <a href="#pg-6c37379d8eb17497d2a6549c74049bda">Installing and configuring OpenSSH</a></li>


    
  

    </ul>
    
  
    
    
	
<li>2.7: <a href="#pg-2c6675379318075061a52967b0e1d1c3">RDS</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.7.1: <a href="#pg-3079aba9210045c0351dcd96d33bdf8a">Reset a Domain Password in RDWeb</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-e18a5f56d8e735afc59e13aa997347a1">Cheatsheets</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-565c5ea04a2d6f33af0d12e41c99952b">Automation</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1.1: <a href="#pg-ff6236bafcd04d4908410ed9efea755f">Ansible</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1.1.1: <a href="#pg-909af68028e4b92ec99a24f307013283">Ansible Syntax</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3.1.2: <a href="#pg-c0a3dfddf394d854a14c3e51ced8acef">Terraform</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1.2.1: <a href="#pg-b4476dbf3e69b4e2c169c64ac79b1de6">Terraform Cheatsheet</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>3.2: <a href="#pg-f7d34b1fa19cc1c2a3047380706f3ebc">System Administration</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.2.1: <a href="#pg-fe46d41da7bb92c507090fda75ae76c7">Powershell Cheatsheet</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3.3: <a href="#pg-5f019565f2ac285a8136499726f06bb9">Containers</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.3.1: <a href="#pg-ff7e04116d515df713feedef1b37d307">Docker Cheatsheet</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-2d6ccfae0eabf2b5a12eb573f1ef0d6a">GPG</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-65b53c577b2268af6cc74054f7bbc6ac">Encrypt/Decrypt Files</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-8e4c97509e3c6390c3874c41b0f721ef">Generate GPG Keys</a></li>


    
  
    
    
	
<li>4.3: <a href="#pg-ee863aea944b4b8d8644777967168031">List stored Keys</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-4776b1228b9e7c05a7b3613fccc1f89b">NXLog</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-8fb26e8261873f2d54f75620c524b1f0">How to configure NXLog</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-f94b062ab0f7f712d0edae8b8deea8ac">How to install NXLog</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-b6b14d8a7a19c49f2d38032138727718">VMWare</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.1: <a href="#pg-e5d7b11877f04e7c129c4f72d0418286">ESXi</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.1.1: <a href="#pg-bd269877612e020db104a8ab86a53f46">Applying Certificates</a></li>


    
  
    
    
	
<li>6.1.2: <a href="#pg-edb461049b3ac93144179a6b8472253f">Generating a CSR using CLI</a></li>


    
  
    
    
	
<li>6.1.3: <a href="#pg-f71a08a98bc6bc09569d529f35313979">Hardening ESXi 7</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6.2: <a href="#pg-c86af4e2a6dc8a0a638b3012eb736f0d">Fusion</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.2.1: <a href="#pg-f0cb2b87ca4f2854355f8e17f313a561">Install Fusion</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6.3: <a href="#pg-5f37cc74c2eb6b966cec5492b20a67c0">vCenter</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>6.3.1: <a href="#pg-3b309c72bd9b8256c70b1809809bd33f">Full Custom Certification</a></li>


    
  
    
    
	
<li>6.3.2: <a href="#pg-1a54636e24d634cccffc1c3ad302543d">Troubleshooting vCenter</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>7: <a href="#pg-0ae9a6d901b20c4c295e4c53cb1b589e">Webservers</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>7.1: <a href="#pg-d2aae363ae45b8e240dfde0087fbbb51">Nginx</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>7.1.1: <a href="#pg-d17750e0044ec2d1b46d6157bcab9236">Creating a reverse proxy</a></li>


    
  
    
    
	
<li>7.1.2: <a href="#pg-77deb2de9426e0021d461fb01fb5b37e">Important Directories and Files</a></li>


    
  
    
    
	
<li>7.1.3: <a href="#pg-24d2ce8fd5415a458224e30d13704342">Installing Nginx</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>8: <a href="#pg-288e84b7bcc4e1b7e941da1a8493d396">Git</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>8.1: <a href="#pg-96bca7d3276056c9886da9f0f60cbe94">Git Branches</a></li>


    
  
    
    
	
<li>8.2: <a href="#pg-17c61ac49744d4670f00f7fb41772869">Introduction to git</a></li>


    
  

    </ul>
    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-0be6f9e5c75d1a433bd612cc602871b2">1 - Linux</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-967f17c9d6dbb24b353b383346ea5ba1">1.1 - DNSMasq for DNS</h1>
    
	<h1 id="install-dnsmasq">Install DNSMasq</h1>
<p><strong>Install DNSMasq</strong>
Debian:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>apt install dnsmasq
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-726d03a9979fc6109d0af2ddcc5220bf">1.2 - Maintaining a Linux Server</h1>
    
	<h2 id="keep-packages-up-to-date">Keep packages up to date</h2>
<p>All Linux distributions use package managers to easily be able to install and update packages without having to manually download them.</p>
<p>On debian the package manager is apt.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>apt update
</span></span><span style="display:flex;"><span>apt upgrade
</span></span></code></pre></div><p>Keeping the server up to date should be minimum maintenance required for your server as not only do up to date packages often offer more features but they also fix security bugs and vulnerabilities.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d5778c7176fe78ed282ff13d395a065a">1.3 - Uncomplicated Firewall (UFW)</h1>
    
	<h2 id="installation">Installation:</h2>
<p>Debian:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>apt install ufw
</span></span></code></pre></div><h2 id="check-the-status-of-ufw">Check the status of UFW:</h2>
<p>You can check the status of ufw by running:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw status
</span></span></code></pre></div><p>Without any changes it will most likely report back <strong>&lsquo;Status: Inactive&rsquo;</strong></p>
<h2 id="set-up-ufw-to-allow-ssh-or-port-22">Set up UFW to allow SSH or port 22:</h2>
<p>Here we will set up UFW to allow port 22 (SSH) connections so that once the UFW is enabled you are still able to SSH into the machine.</p>
<ul>
<li>Lets allow ssh or port 22 - there are 2 ways of doing this.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw allow in ssh
</span></span></code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw allow in 22
</span></span></code></pre></div><ul>
<li>Once this is set we can enable the UFW.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw enable
</span></span></code></pre></div><h2 id="deny-all-incoming-traffic">Deny all incoming traffic</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw default deny incoming
</span></span></code></pre></div><h2 id="view-all-your-rules">View all your rules:</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw status verbose
</span></span></code></pre></div><h2 id="delete-a-rule">Delete a rule:</h2>
<p>To delete a rule for example the SSH rule, run:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw delete allow in &#39;SSH&#39;
</span></span></code></pre></div><p>Once the rule is deleted, reload UFW</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#000">ufw</span> <span style="color:#000">reload</span>
</span></span></code></pre></div><h2 id="disable-ufw">Disable UFW:</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ufw disable
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9790ade7e4787a73f84175b4eaf519e2">1.4 - Configure time zone</h1>
    
	<h3 id="check-the-current-time-zone">Check the current time zone</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>date
</span></span></code></pre></div><h3 id="configuring-the-time-zone-used">Configuring the time zone used</h3>
<p>To configure the timezone in ubuntu, timedatectl is used.</p>
<p>Find the time zone from the list using the command below</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>timedatectl list-timezones
</span></span></code></pre></div><p>Once you have the time zone name for the time zone required use the command below to set it, change America/Goose_Bay to your desired timezone.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo timedatectl set-timezone America/Goose_Bay
</span></span></code></pre></div><p>Now use the command listed in the first section again to check your new setting.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-775cded8010d40cd6e397e8dadc27578">1.5 - Installing Arch Linux</h1>
    
	<p>Arch linux is a sort of &lsquo;build it yourself&rsquo; OS allowing you to create the environment you desire, I use this to have a low resource requirement extending the life of &lsquo;old&rsquo; hardware but it can be used for more than that.</p>
<h3 id="how-to-use-the-arch-automated-installer">How to use the Arch automated installer</h3>
<p>Download the Arch Linux ISO from the website.
<a href="https://www.archlinux.org">https://www.archlinux.org</a></p>
<p>Boot to the ISO file</p>
<p>Once you have booted to the ISO you should be presented with the command line</p>
<p>To use the Arch automated installer type:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>archinstall
</span></span></code></pre></div><p>The guided installer will perform the following steps:</p>
<ul>
<li>configure the locale;</li>
<li>select the mirrors;</li>
<li>partition the disks;</li>
<li>format the partitions;</li>
<li>enable disk encryption (optional);</li>
<li>set the hostname;</li>
<li>set the root password;</li>
<li>install a boot loader (limited to systemd-boot for UEFI and GRUB for BIOS)</li>
</ul>
<p>Leaving the root password blank disables the root account.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-857ae677b93322583df3cb9fbe8db571">1.6 - Mounting a network share</h1>
    
	<h2 id="nfs">NFS</h2>
<p>Mounting an NFS share requires nfs-common. To install:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>apt install nfs-common
</span></span></code></pre></div><p>To mount an NFS network share use the command below:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>mount -t nfs -o 192.168.0.100:/backups
</span></span></code></pre></div><p>Replace the IP Address and share location to your required config.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0a0e8e03f6e1567ad67f9dccc9a684e5">1.7 - Oracle Linux</h1>
    
	<p>Oracle linux or Oracle Enterprise Linux (OEL) is a linux distribution freely distributed by Oracle. It is compiled from Red Hat (RHEL) source code.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-17cead64e64e569f4a7806f81b63f639">1.7.1 - Updating Oracle Linux</h1>
    
	<h1 id="updating-oracle-linux">Updating Oracle Linux</h1>
<h2 id="check-your-current-oracle-linux-version">Check your current Oracle Linux Version:</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cat /etc/oracle-release
</span></span></code></pre></div><p>The output of this command will be the version of your machine.</p>
<h2 id="with-internet">With internet:</h2>
<p>With internet updating and upgrading oracle linux is as simple as using the following command</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo yum update -y &amp;&amp; sudo yum upgrade -y
</span></span></code></pre></div><p>This will check you have the latest update information.
The upgrade command will actually upgrade the software on your machine.</p>
<h2 id="without-internet">Without internet:</h2>
<p>To complete an offline upgrade of an oracle linux system there is a requirement that you have the oracle ISO file that is a higher version.</p>
<ul>
<li>Mount the ISO to a mount point (I am using /mnt/iso)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>mkdir /mnt/iso
</span></span><span style="display:flex;"><span>mount -o ro ORACLE_ISO.iso /mnt/iso
</span></span></code></pre></div><ul>
<li>Disable the Online repository</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo vi /etc/yum.repos.d/public.repo
</span></span></code></pre></div><p>Inside this file there will be a list of repos, change the enable variable to 0 (enable=0)</p>
<ul>
<li>Create a local repo</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo vi local.repo
</span></span></code></pre></div><p>Inside the new file write this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[localRepo]
</span></span><span style="display:flex;"><span>name=localRepo
</span></span><span style="display:flex;"><span>baseurl=file:///mnt/iso/
</span></span><span style="display:flex;"><span>gpgcheck=0
</span></span><span style="display:flex;"><span>enabled=1
</span></span></code></pre></div><p>Now save and exit the file.</p>
<ul>
<li>Clean the yum package manager cache</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo yum clean all
</span></span></code></pre></div><ul>
<li>Check the local repo is enable and being used</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo yum repolist all
</span></span></code></pre></div><p>In the output you should see the localRepo and it should be enabled.</p>
<ul>
<li>Now update the system</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo yum update -y --skip-broken
</span></span></code></pre></div><ul>
<li>Restart the system to ensure the updates are installed as expected.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>sudo reboot
</span></span></code></pre></div><p>or</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl reboot
</span></span></code></pre></div><h3 id="after-offline-update-clean-up">After offline update clean up</h3>
<ul>
<li>unmount the ISO</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>umount /mnt/iso
</span></span></code></pre></div><ul>
<li>clean the yum cache</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>yum clean all
</span></span></code></pre></div><ul>
<li>Remove the ISO</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>rm ORACLE_ISO
</span></span></code></pre></div><p>After completing these steps you could go further and remove the local repo but I wouldn&rsquo;t recommend it as you can use the same repo in the future to make upgrades a bit smoother as long as you mount in the same directory.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2b9546606f181f60ded6001af254c348">1.7.2 - About Oracle Linux</h1>
    
	<p>Oracle linux or Oracle Enterprise Linux (OEL) is a linux distribution freely distributed by Oracle. It is compiled from Red Hat (RHEL) source code.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e70f4f2b41105fc25dccdcd31cbe3d9d">1.8 - Raspberry Pi</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-355c8f64e7e7b10b76082bd271021b48">1.8.1 - Setup Headless Raspberry Pi</h1>
    
	<h1 id="setup-a-headless-raspberry-pi">Setup a headless Raspberry Pi</h1>
<p><strong>Requirements</strong></p>
<ul>
<li>Raspberry Pi with power supply</li>
<li>SD Card</li>
</ul>
<h2 id="imaging-the-sd-card">Imaging the SD Card:</h2>
<p>Download Raspbian lite (this has no DE, if you want a DE download the full iso image not lite)
<a href="http://www.raspberrypi.org/downloads">Raspbian Downloads</a></p>
<p>Use an application like <a href="https://www.balena.io/etcher/">EthcherBalena</a> to write to the SD Card.</p>
<h2 id="steps-to-take-once-the-image-is-written-to-the-sd-card">Steps to take once the image is written to the SD Card:</h2>
<p>Once the image is written to the SD Card open a terminal and browse to the the SD Card (Usually /Volumes/boot/).</p>
<p>If you want to enable SSH then make a file called &lsquo;ssh&rsquo; make sure the file has no extensions if you are doing this on windows.</p>
<p><strong>Enable SSH:</strong>
Linux or mac:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>touch ssh
</span></span></code></pre></div><p>Windows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>New-Item ssh
</span></span></code></pre></div><p>Now add create a file called wpa_supplicant.conf and add the config below changing the network information to your own.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>network={
</span></span><span style="display:flex;"><span>    ssid=&#34;ssid_name&#34;
</span></span><span style="display:flex;"><span>    psk=&#34;password&#34;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Once these steps are completed, plug the SD Card in and boot the Raspberry Pi.</p>
<p>Now there are two options to accessing the device:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ssh pi@raspberry.local
</span></span></code></pre></div><p>or</p>
<p>Find the IP on your router or use nmap to find the IP then:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ssh pi@&lt;IPADDRESS&gt;
</span></span></code></pre></div><p>The default password is <strong>raspberry</strong>.</p>
<p>You should now have access to your device without having to plug in a monitor.</p>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-63ab6271f8cc213bd7878bd325a798da">2 - Microsoft</h1>
    
	<h3 id="microsoft">Microsoft</h3>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-04e86dd87ffdc0b2ff2f41b280449a37">2.1 - KMS</h1>
    
	<h3 id="kms">KMS</h3>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-ba3d56c5ab333f862cd6be9093925dea">2.1.1 - Install KMS</h1>
    
	<h3 id="installing-kms">Installing KMS</h3>
<p>These steps remain the same whether you are installing on Windows Server 2008 R2, 2012, 2012 R2, 2016, 2019 or 2022.</p>
<h4 id="pre-requisites">Pre-requisites</h4>
<ul>
<li>Decide which server will host the KMS. It is recommended to utilise the latest server version you have access to, with the highest patch level.</li>
<li>Administrator access to CMD</li>
</ul>
<h4 id="installation-process">Installation process</h4>
<p>Logon to the server and open an elevated command prompt (without the elevation you will not be able to complete the process)</p>
<p>change directory to the system32 folder:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cd C:\windows\system32
</span></span></code></pre></div><p>Install your product key:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cscript slmgr.vbs /ipk *PRODUCT_KEY*
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cscript slmgr.vbs /ato
</span></span></code></pre></div><p>The KMS should now function as expected.</p>
<p>To validate that clients are being activated use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cscript slmgr.vbs /dlv
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6b7f4973907e5d181aaa1fd9e3915140">2.1.2 - General Syntax</h1>
    
	<p>Useful commands when using KMS</p>
<h3 id="check-the-status-of-windows-activation">Check the Status of Windows Activation</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>slmgr.vbs /dli
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-846dde03355647c6690d2fd3a31bdae7">2.2 - Disabling Cipher Suites</h1>
    
	<h2 id="check-active-cipher-suites-using-powershell">Check active cipher suites using powershell</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Get-TlsCipherSuite | format-table Name
</span></span></code></pre></div><p>This will give you a list of active cipher suites on the device.</p>
<h2 id="disabling-a-cipher-suite">Disabling a cipher suite</h2>
<p>For this example I will disable the &lsquo;TLS_RSA_WITH_3DES_EDE_CBC_SHA&rsquo; cipher suite as this is classed as vulnerable to a SWEET32 attack.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Disable-TlsCipherSuite -Name &#34;TLS_RSA_WITH_3DES_EDE_CBC_SHA&#34;
</span></span></code></pre></div><p>The command will not give any terminal output but you can use the Get-TlsCipherSuite command to make sure it is deactivated.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-a005de9790355be9d2c5fbb1644d1eba">2.3 - Enable Remote Desktop</h1>
    
	<ul>
<li>Open Server Manager and click Local Server on the left hand menu panel</li>
<li>Click the Remote Desktop property in the Properties panel (Usually Disabled by default), the will open a System Properties window.</li>
<li>In the System Properties window, select Allow remote connections to this computer. A window will open telling you that firewall rule exceptions will be enabled for Remote Desktop, click OK.</li>
<li>On the System Properties window click Apply and then OK.</li>
</ul>
<p>Now test you can RDP to the server using another device.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7cb3a17cbe9b8c4c348b490048bd957e">2.4 - Force a remote group policy update</h1>
    
	<h3 id="steps-to-force-a-remote-group-policy-update">Steps to force a remote group policy update</h3>
<ul>
<li>Open GPMC</li>
<li>Right-Click the OU that you want to update</li>
<li>Click &lsquo;Group Policy Update&rsquo;</li>
</ul>
<p>The remote Group Policy refresh updates all Group Policy settings, including security settings that are set on a group of remote computers, by using the functionality that is added to the context menu for an OU in the Group Policy Management Console (GPMC). When you select an OU to remotely refresh the Group Policy settings on all the computers in that OU, the following operations happen:</p>
<p>An Active Directory query returns a list of all computers that belong to that OU.</p>
<p>For each computer that belongs to the selected OU, a WMI call retrieves the list of signed in users.</p>
<p>A remote scheduled task is created to run GPUpdate.exe /force for each signed in user and once for the computer Group Policy refresh. The task is scheduled to run with a random delay of up to 10 minutes to decrease the load on the network traffic.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-245029b2f6f475b7f9520b0a4694cd2e">2.5 - Join AD Domain</h1>
    
	<h3 id="verify-you-can-resolve-the-active-directory-domain-controller-fqdn---optional">Verify you can resolve the Active Directory Domain Controller FQDN - (Optional)</h3>
<p>Open a command prompt and ping your ADDC FQDN, replace DC.network.com in the command below.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ping DC.network.com
</span></span></code></pre></div><p>If the ping is successful you can begin the joining process.</p>
<h3 id="joining-the-domain">Joining the domain</h3>
<ul>
<li>Open Server Manager and click Local Server on the left hand menu panel</li>
<li>Click the workgroup property in the properties panel, this will open a System Properties window.</li>
<li>Click on the Change button in the System Properties window</li>
<li>In the Member of section, select Domain and enter the domain name into the field.</li>
<li>A windows security box will pop up asking for account details, enter an Administrator account for your domain.</li>
<li>If the joining process was successful a small new window will open that welcomes you to the domain, click Ok.</li>
<li>A window will appear saying you need to restart your device, click Ok and then Close the System Properties window.</li>
<li>Now Restart your device when prompted.</li>
</ul>
<p>Once the device has restarted you will be able to login as a domain user.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d56ffd3add3d194f339be7e367315d84">2.6 - openSSH</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-6c37379d8eb17497d2a6549c74049bda">2.6.1 - Installing and configuring OpenSSH</h1>
    
	<h1 id="openssh-windows">OpenSSH Windows</h1>
<p>With the addition of windows server 2019 you can now install the openssh component through the server manager features.</p>
<p>&lsquo;Add Roles &amp; Features&rsquo; &gt; &lsquo;OpenSSH Server&rsquo;</p>
<p>This will install the OpenSSH Server component and will allow you to edit the config and listen on the relevant port</p>
<p><strong>Useful locations:</strong></p>
<p>sshd_config
%programdata%\ssh</p>
<p>sshd executables
C:\Windows\System32\OpenSSH</p>
<p><strong>Debugging sshd</strong></p>
<p>To start sshd in debug mode type &lsquo;sshd -d&rsquo; into powershell, this will give you mroe output in the console.</p>
<p><strong>Turning on logs</strong></p>
<p>To turn on logs you will need to remove the # before the log config in the ssh_config file located inside %Programdata%\ssh the logs will then go into %programdata%\ssh\logs.</p>
<p><strong>Fixes:</strong></p>
<p><strong>No Service inside the services applet</strong></p>
<p>If you cannot see the OpenSSH Server process inside the services applet you may need to create your own.</p>
<p>Using CMD:</p>
<p>sc.exe create &ldquo;OpenSSH Server&rdquo; C:\Windows\System32\OpenSSH\sshd.exe</p>
<p><strong>sshd Service will not start</strong></p>
<p>If the sshd service won&rsquo;t start it may be to do with the security permissions set on the %Programdata%/ssh folder.
There should only be 2 users that have permissions to the SSH folder (SYSTEM &amp; Administrators) outside of the listed 2 the service will not start so remove the permissions and try to start the service.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2c6675379318075061a52967b0e1d1c3">2.7 - RDS</h1>
    
	<h3 id="rds">RDS</h3>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-3079aba9210045c0351dcd96d33bdf8a">2.7.1 - Reset a Domain Password in RDWeb</h1>
    
	<h3 id="resetting-a-domain-password-in-rdweb">Resetting a domain password in RDWeb</h3>
<ul>
<li>
<p>Open IIS on the Server with RDWeb service installed</p>
</li>
<li>
<p>Go to [Server Name] &gt; Sites &gt; Default Web Site &gt; RDWeb &gt; Pages and open the section Application Settings.</p>
</li>
<li>
<p>find <em>PasswordChangeEnabled</em> and change the value to true</p>
</li>
<li>
<p>Restart the IIS Service</p>
</li>
</ul>
<p>Now you can navigate to the RDWeb page and change your password
https://[SERVERNAME]/RDWeb/Pages/en-US/password.aspx</p>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e18a5f56d8e735afc59e13aa997347a1">3 - Cheatsheets</h1>
    
	<h1 id="cheatsheets">Cheatsheets</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-565c5ea04a2d6f33af0d12e41c99952b">3.1 - Automation</h1>
    
	<h1 id="automation">Automation</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-ff6236bafcd04d4908410ed9efea755f">3.1.1 - Ansible</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-909af68028e4b92ec99a24f307013283">3.1.1.1 - Ansible Syntax</h1>
    <div class="lead">Introduction to Ansible Syntax.</div>
	<h3 id="playbooks">Playbooks</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ansible-playbook &lt;YAML&gt; -i &lt;HOSTSFILE&gt;    # Run on all hosts from specified hosts file
</span></span><span style="display:flex;"><span>ansible-playbook &lt;YAML&gt; -C                # Test run
</span></span><span style="display:flex;"><span>ansible-playbook &lt;YAML&gt; -C -D             # Dry run
</span></span></code></pre></div><h3 id="check-syntax">Check Syntax</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ansible-playbook --syntax-check &lt;YAML&gt;
</span></span></code></pre></div><h3 id="execute-commands-on-hosts">Execute commands on hosts</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ansible &lt;HOSTGROUP&gt; -a &lt;COMMAND&gt;
</span></span></code></pre></div><p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ansible all -a &#34;neofetch&#34;
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c0a3dfddf394d854a14c3e51ced8acef">3.1.2 - Terraform</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-b4476dbf3e69b4e2c169c64ac79b1de6">3.1.2.1 - Terraform Cheatsheet</h1>
    <div class="lead">Introduction to Terraform syntax and advantages.</div>
	<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>terraform plan          # dry run
</span></span><span style="display:flex;"><span>terraform apply         # apply configuration changes
</span></span><span style="display:flex;"><span>terraform refresh       # synchronise state with the resource
</span></span><span style="display:flex;"><span>terraform destroy       # destroy current configuration
</span></span></code></pre></div><h3 id="state-management">State management</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>terraform state list # this will show the resources in the state file
</span></span><span style="display:flex;"><span>terraform state rm &lt;RESOURCE&gt; # remove a resource from the state list
</span></span></code></pre></div><h3 id="correcting-formatting">Correcting formatting</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>terraform fmt #reformats .tf files for better readability
</span></span></code></pre></div><h3 id="remote-exec">Remote Exec</h3>
<p>This is used for remotely executing a command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>provisioner &#34;remote-exec&#34; {
</span></span><span style="display:flex;"><span>    inline = [
</span></span><span style="display:flex;"><span>         &#34;apt install neofetch&#34;
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f7d34b1fa19cc1c2a3047380706f3ebc">3.2 - System Administration</h1>
    
	<h1 id="system-administration">System Administration</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-fe46d41da7bb92c507090fda75ae76c7">3.2.1 - Powershell Cheatsheet</h1>
    
	<p>a lot of powershell commands have aliases that are similar to linux.</p>
<p>Basic</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ls              # Shows current directory
</span></span><span style="display:flex;"><span>cd &lt;DIRECTORY&gt;  # Change directory to specified directory
</span></span><span style="display:flex;"><span>mkdir &lt;NEWDIRECTORYNAME&gt; # Create a new folder
</span></span><span style="display:flex;"><span>copy &lt;FILETOCOPY&gt; &lt;PATHTOCOPYTO&gt;    # Copy a folder/file to a different place
</span></span><span style="display:flex;"><span>move &lt;FILETOMOVE&gt; &lt;PATHTOCOPYTO&gt;    # Move a folder/file to a different place
</span></span><span style="display:flex;"><span>rm &lt;FILETOREMOVE&gt;   # Remove a file 
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5f019565f2ac285a8136499726f06bb9">3.3 - Containers</h1>
    
	<h1 id="containers">Containers</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-ff7e04116d515df713feedef1b37d307">3.3.1 - Docker Cheatsheet</h1>
    
	<h1 id="docker">Docker</h1>
<h3 id="docker-basics">Docker basics</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>docker start &lt;CONTAINER&gt; #start container
</span></span><span style="display:flex;"><span>docker restart &lt;CONTAINER&gt; #restart container
</span></span><span style="display:flex;"><span>docker stop &lt;CONTAINER&gt; #stop container
</span></span><span style="display:flex;"><span>docker rm &lt;CONTAINER&gt; #remove a container
</span></span></code></pre></div><h3 id="listing-containers">Listing containers</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>docker ps       #list running containers
</span></span><span style="display:flex;"><span>docker ps -a    #list all containers
</span></span><span style="display:flex;"><span>docker ps -s    #list running containers with system specs
</span></span></code></pre></div><h3 id="image-management">Image management</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>docker images       #list local stored images
</span></span><span style="display:flex;"><span>docker rmi &lt;IMAGE&gt;  #remove a local image
</span></span><span style="display:flex;"><span>docker save -o &lt;TARBALL&gt; &lt;IMAGE&gt; #Save a local image as a tarball so you can archive or inspect the image.
</span></span><span style="display:flex;"><span>docker history &lt;IMAGE&gt; #Shows image creation history
</span></span></code></pre></div><h3 id="building-images">Building Images</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#000">docker</span> <span style="color:#000">build</span> <span style="color:#ce5c00;font-weight:bold">.</span>
</span></span><span style="display:flex;"><span><span style="color:#000">docker</span> <span style="color:#000">build</span> <span style="color:#ce5c00;font-weight:bold">--</span><span style="color:#000">build</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">arg</span> <span style="color:#000">ARG</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">VALUE</span> <span style="color:#ce5c00;font-weight:bold">.</span> <span style="color:#8f5902;font-style:italic"># pass variables with build arg</span>
</span></span></code></pre></div><h3 id="networks">Networks</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>docker network ls      # shows docker network info
</span></span><span style="display:flex;"><span>docker network rm &lt;NETWORKID&gt; #Remove a network using the ID
</span></span></code></pre></div>
</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2d6ccfae0eabf2b5a12eb573f1ef0d6a">4 - GPG</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-65b53c577b2268af6cc74054f7bbc6ac">4.1 - Encrypt/Decrypt Files</h1>
    
	<h2 id="encrypt-a-file">Encrypt a file:</h2>
<p>This will encrypt a file, the -r flag is the recipient of the file to use this locally you can provide your own username.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg -e -r &#34;USER&#34; example.txt 
</span></span></code></pre></div><h2 id="decrypt-a-file">Decrypt a file:</h2>
<p>This will decrypt the gpg file provided in the command once you have provided the passphrase.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg -d -o example.txt example.txt.gpg 
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-8e4c97509e3c6390c3874c41b0f721ef">4.2 - Generate GPG Keys</h1>
    
	<p>To get start with GPG you will need to generate a secret and public key, this will require some security information.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg --full-generate-key 
</span></span></code></pre></div><p>OR</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg --gen-key
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ee863aea944b4b8d8644777967168031">4.3 - List stored Keys</h1>
    
	<p>This will list the current keys in your trust database depending on the key you would like to see:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg --list-secret-keys 
</span></span></code></pre></div><p>OR</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gpg --list-keys
</span></span></code></pre></div>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-4776b1228b9e7c05a7b3613fccc1f89b">5 - NXLog</h1>
    
	<h2 id="nxlog">NXLog</h2>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-8fb26e8261873f2d54f75620c524b1f0">5.1 - How to configure NXLog</h1>
    
	<h1 id="how-to-configure-nxlog">How to configure NXLog</h1>
<h3 id="windows">Windows</h3>
<ul>
<li>
<p>Edit the nxlog.conf file inside C:\Program Files (x86)\nxlog\conf</p>
</li>
<li>
<p>At the bottom of the notepad will be some commented out lines that are similar to the lines below, remove the hashes so they arent commented out and make sure the output is correctly configured to the syslog server&rsquo;s IP using the correct Module (TCP/UDP) and Port.</p>
</li>
<li>
<p>When you edit the nxlog.conf file make sure you restart the nxlog service.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># Modules section
</span></span><span style="display:flex;"><span>&lt;Input in&gt;
</span></span><span style="display:flex;"><span>    Module  im_msvistalog
</span></span><span style="display:flex;"><span>&lt;/Input&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;Output out&gt;
</span></span><span style="display:flex;"><span>    Module  om_udp
</span></span><span style="display:flex;"><span>    Host    IP_ADDRESS
</span></span><span style="display:flex;"><span>    Port    514
</span></span><span style="display:flex;"><span>    Exec    to_syslog_snare();
</span></span><span style="display:flex;"><span>&lt;/Output&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Route section
</span></span><span style="display:flex;"><span>&lt;Route 1&gt;
</span></span><span style="display:flex;"><span>    Path    in =&gt; out
</span></span><span style="display:flex;"><span>&lt;/Route&gt;
</span></span></code></pre></div><h3 id="sending-logs-as-json">Sending Logs as JSON</h3>
<ul>
<li>Edit nxlog.conf and change the Extension and Output to look like the lines below</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;Extension json&gt;
</span></span><span style="display:flex;"><span>    Module    xm_json
</span></span><span style="display:flex;"><span>&lt;/Extension&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;Output out&gt;
</span></span><span style="display:flex;"><span>    Module    om_tcp
</span></span><span style="display:flex;"><span>    Host      IP_ADDRESS
</span></span><span style="display:flex;"><span>    Port      514
</span></span><span style="display:flex;"><span>    Exec      to_json();
</span></span><span style="display:flex;"><span>&lt;/Output&gt;
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f94b062ab0f7f712d0edae8b8deea8ac">5.2 - How to install NXLog</h1>
    
	<h1 id="how-to-install-nxlog">How to install NXLog</h1>
<h3 id="windows">Windows</h3>
<p>Download NXLog from the website - <a href="https://nxlog.co/products/nxlog-community-edition/download">NXLog Downloads</a></p>
<p>Install using the .exe you just downloaded, if you choose a custom install path make sure you remember where it is.</p>
<p>Once you have configured the nxlog.conf start the nxlog service in the services applet.</p>
<p>If you have any issues there is a log file in the INSTALL_PATH\data\nxlog.txt this should give some information on what the issue is.</p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b6b14d8a7a19c49f2d38032138727718">6 - VMWare</h1>
    
	<h1 id="vmware">VMWare</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-e5d7b11877f04e7c129c4f72d0418286">6.1 - ESXi</h1>
    
	<h1 id="esxi">ESXi</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-bd269877612e020db104a8ab86a53f46">6.1.1 - Applying Certificates</h1>
    
	<h2 id="applying-certificates-to-esxi-hosts-through-the-web-ui">Applying certificates to ESXi Hosts through the web UI</h2>
<ul>
<li>Log in with root.</li>
<li>Go to Manage &gt; Security &amp; Users &gt; Certificates.</li>
<li>Select Import new Certificate &gt; Generate FQDN request.</li>
<li>Copy and paste FQDN request into a text file and rename it with the .csr extension.</li>
<li>Send file over to CA host so the CA can sign it.
<ul>
<li>Note: You can add the IP address of the ESXi host to the Subject Alternate Name to allow secure connections by specifying the FQDN (set to the CN) or the IP (set to the SAN).</li>
</ul>
</li>
<li>Send back signed cert in .pem format (Base64 ASCII encoded).</li>
<li>Open the certificate file with a text editor.</li>
<li>Back in ESXi under root privilege, go to Manage &gt; Security &amp; Users &gt; Certificates.</li>
<li>Select Import new Certificate.</li>
<li>Copy and paste the .pem content into an empty box and select Import.</li>
</ul>
<h3 id="apply-certificates-to-esxi-hosts-through-the-cli">Apply certificates to ESXi Hosts through the CLI</h3>
<p>This assumes you have already generated a CSR and signed it using a CA. If you haven&rsquo;t use the guide here - <a href="//localhost:1313/docs/vmware/esxi/gencsr/">Generating a CSR for ESXi</a></p>
<ul>
<li>SSH to the host.</li>
<li>Change directory /etc/vmware/ssl
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cd /etc/vmware/ssl
</span></span></code></pre></div></li>
<li>Open rui.key in vi and paste the key you used to create your CSR, then save and quit using :wq</li>
<li>Open rui.cer in vi and paste the signed certificate contents into the box. (Make sure the certificate is in Base64)</li>
<li>Once complete reboot the host and navigate to the webpage to see if the certificate was succesfully imported.</li>
<li>Delete the /csrstore, made if you used my guide to create the CSR.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-edb461049b3ac93144179a6b8472253f">6.1.2 - Generating a CSR using CLI</h1>
    
	<p>In this guide I will be using the openssl pre-installed on the ESXi host to generate the CSR, if you have openSSL elsewhere you can use that, just make sure you take the rui.key file with the configuration.</p>
<ul>
<li>SSH to the ESXi host</li>
<li>Create a directory called that will be used to temporarily house the config and key. (the /etc/vmware/ssl folder can reset itself back to default so it isn&rsquo;t recommended to store anything there). This directory can be removed once the certificate is imported.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>mkdir /csrstore
</span></span></code></pre></div><ul>
<li>Change directory to the new folder</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>cd /csrstore
</span></span></code></pre></div><ul>
<li>
<p>create an openssl.cnf file and use the example below to fill it out. The fields that should be changed are -</p>
<pre><code>                - subjectAltName
                - CountryName
                - stateOrProvinceName
                - LocalityName
                - 0.organizationName
                - organizationalUnitName
                - commonName
</code></pre>
</li>
<li>
<p>Create the openssl.cnf file and open it in the vi text editor</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>vi openssl.cnf
</span></span></code></pre></div><p><em>SAMPLE OPENSSL CONFIG</em></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[ req ]
</span></span><span style="display:flex;"><span>default_bits = 2048
</span></span><span style="display:flex;"><span>default_keyfile = rui.key
</span></span><span style="display:flex;"><span>distinguished_name = req_distinguished_name
</span></span><span style="display:flex;"><span>encrypt_key = no
</span></span><span style="display:flex;"><span>prompt = no
</span></span><span style="display:flex;"><span>string_mask = nombstr
</span></span><span style="display:flex;"><span>req_extensions = v3_req
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[ v3_req ]
</span></span><span style="display:flex;"><span>basicConstraints = CA:FALSE
</span></span><span style="display:flex;"><span>keyUsage = digitalSignature, keyEncipherment, dataEncipherment
</span></span><span style="display:flex;"><span>extendedKeyUsage = serverAuth, clientAuth
</span></span><span style="display:flex;"><span>subjectAltName = DNS:esxihost, IP:10.0.1.10, DNS:esxihost.vmware.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[ req_distinguished_name ]
</span></span><span style="display:flex;"><span>CountryName = US
</span></span><span style="display:flex;"><span>stateOrProvinceName = StreetCorner
</span></span><span style="display:flex;"><span>LocalityName = Alleyway
</span></span><span style="display:flex;"><span>0.organizationName = CompanyX
</span></span><span style="display:flex;"><span>organizationalUnitName = ITGuys
</span></span><span style="display:flex;"><span>commonName = esxihost.vmware.com
</span></span></code></pre></div><ul>
<li>Generate a new rui.key to be used with your new certifate</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>openssl genrsa -out rui.key 2048
</span></span></code></pre></div><ul>
<li>Now generate the CSR based on your config and rui.key</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>openssl req -new -node -out rui.csr -key rui.key -config openssl.cnf
</span></span></code></pre></div><ul>
<li>Now take the CSR and sign it.</li>
</ul>
<p>If you need to know how to import the signed certificate go here - <a href="//localhost:1313/docs/vmware/esxi/applying-certificates/">Applying certificates to ESXi Hosts</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f71a08a98bc6bc09569d529f35313979">6.1.3 - Hardening ESXi 7</h1>
    
	<p>A link to my ESXi script is included in the github link section, if thats all you are looking for go there.</p>
<p>The script requires powerCLI this can be obtained from VMWare free of charge.</p>
<h1 id="github-link">Github Link</h1>
<p>I recommend reading the page before running the script blindly but that&rsquo;s up to you.</p>
<p><a href="https://github.com/Barophobia/esxi_7_hardening">Barophobia ESXi 7 Hardening Script</a></p>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c86af4e2a6dc8a0a638b3012eb736f0d">6.2 - Fusion</h1>
    
	<h1 id="fusion">Fusion</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-f0cb2b87ca4f2854355f8e17f313a561">6.2.1 - Install Fusion</h1>
    
	<h1 id="fusion">Fusion</h1>
<h3 id="install-using-brew">Install using brew:</h3>
<p>If you have brew on mac then just run this command to install vmware-fusion.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>brew install --cask vmware-fusion
</span></span></code></pre></div><h3 id="install-using-dmg-provided-by-vmware">Install using DMG provided by VMWare</h3>
<ul>
<li>Download the file from the link below:</li>
</ul>
<p><a href="https://www.vmware.com/uk/products/fusion/fusion-evaluation.html">https://www.vmware.com/uk/products/fusion/fusion-evaluation.html</a></p>
<ul>
<li>Open the DMG file and double click install, the installer will ask for your password and automatically install.</li>
</ul>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-5f37cc74c2eb6b966cec5492b20a67c0">6.3 - vCenter</h1>
    
	<h1 id="vcenter">vCenter</h1>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-3b309c72bd9b8256c70b1809809bd33f">6.3.1 - Full Custom Certification</h1>
    
	<p>This document will detail how to change to custom certificate mode and then apply a custom certificate to vCenter and ESXi hosts. In some environments there may be the requirement to have all services certified by a trusted CA and not be able to have a subordinate CA (Hybrid Mode) this solution allows you to certify your hosts as required.</p>
<p>Before changing vCenter to custom certificate mode, the vCenter will try to apply its own certificates to the hosts it manages, changing to custom certificate mode stops this behaviour and allows the administrator to apply custom certificates to the host without them being overwritten when connected to a vCenter instance.</p>
<h2 id="changing-vcenters-certificate-mode">Changing vCenter&rsquo;s certificate mode</h2>
<ul>
<li>Select your vCenter system in vSphere Client.</li>
<li>Click Configure and under Settings, click Advanced Settings.</li>
<li>Click Edit Settings.</li>
<li>click the Filter icon in the name column and in the field enter:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>vpxd.certmgmt
</span></span></code></pre></div><ul>
<li>Change the value of vpxd.certmgmt.mode to custom.</li>
<li>Restart the vCenter Server Service.</li>
</ul>
<h2 id="applying-certificates-to-esxi-hosts">Applying certificates to ESXi Hosts</h2>
<ul>
<li>Log in with root.</li>
<li>Go to Manage &gt; Security &amp; Users &gt; Certificates.</li>
<li>Select Import new Certificate &gt; Generate FQDN request.</li>
<li>Copy and paste FQDN request into a text file and rename it with the .csr extension.</li>
<li>Send file over to CA host so the CA can sign it.
<ul>
<li>Note: You can add the IP address of the ESXi host to the Subject Alternate Name to allow secure connections by specifying the FQDN (set to the CN) or the IP (set to the SAN).</li>
</ul>
</li>
<li>Send back signed cert in .pem format (Base64 ASCII encoded).</li>
<li>Open the certificate file with a text editor.</li>
<li>Back in ESXi under root privilege, go to Manage &gt; Security &amp; Users &gt; Certificates.</li>
<li>Select Import new Certificate.</li>
<li>Copy and paste the .pem content into an empty box and select Import.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1a54636e24d634cccffc1c3ad302543d">6.3.2 - Troubleshooting vCenter</h1>
    
	<h2 id="vcenter-booting-to-a-login-prompt">vCenter booting to a login prompt</h2>
<p>If vCenter is booting to a login prompt these are the steps you can take to troubleshoot and fix the issue:</p>
<h3 id="first-method">First method</h3>
<ul>
<li>try to navigate to &lt;IP_ADDRESS&gt;:5480 in your web browser, from this page you should be able to remediate any issues, check health and running services.</li>
</ul>
<h3 id="second-method">Second method</h3>
<ul>
<li>Log into the vCenter using root and the password set when creating the appliance (Reset the root password using the GRUB reset method if required)</li>
<li>type:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>service-control --start --all
</span></span></code></pre></div><ul>
<li>Once the services have started you should be able to get to the web address, if this doesn&rsquo;t work go to the next method.</li>
</ul>
<h3 id="third-method">Third Method</h3>
<ul>
<li>In the vCenter shell enter:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl --list-unit-files | grep masked
</span></span></code></pre></div><ul>
<li>If services are showing as masked then run this command to unmask them:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>find /etc/systemd/system/ -lname &#39;/dev/null&#39; -exec rm {} \\;
</span></span></code></pre></div><ul>
<li>Now check all the services are unmasked and run:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>service-control --start --all
</span></span></code></pre></div>
</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0ae9a6d901b20c4c295e4c53cb1b589e">7 - Webservers</h1>
    
	<h3 id="webservers">Webservers</h3>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-d2aae363ae45b8e240dfde0087fbbb51">7.1 - Nginx</h1>
    
	<h3 id="nginx">Nginx</h3>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-d17750e0044ec2d1b46d6157bcab9236">7.1.1 - Creating a reverse proxy</h1>
    
	<h1 id="reverse-proxy-with-nginx">Reverse proxy with nginx</h1>
<p>In this example I will be making a reverse proxy for a calibre server so anywhere it references that service is a variable of whatever service you are setting up.</p>
<ul>
<li>
<p>Create a new file inside /etc/nginx/sites-available/calibre</p>
</li>
<li>
<p>Now edit the file and add the following</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#000">server</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">listen</span> <span style="color:#0000cf;font-weight:bold">80</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">client_max_body_size</span> <span style="color:#0000cf;font-weight:bold">64</span><span style="color:#000">M</span><span style="color:#000;font-weight:bold">;</span> <span style="color:#8f5902;font-style:italic"># To upload large books (Change where required)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">server_name</span> <span style="color:#000">calibre</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">example</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">com</span> <span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">location</span> <span style="color:#ce5c00;font-weight:bold">/</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">proxy_pass</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">:</span><span style="color:#ce5c00;font-weight:bold">//</span><span style="color:#0000cf;font-weight:bold">127.0</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#0000cf;font-weight:bold">0.1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">8080</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>You can now navigate to the server_name address you set and it will work as expected.</p>
<p>It is recommended to issue a cert and use HTTPS this can be done with certbot.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-77deb2de9426e0021d461fb01fb5b37e">7.1.2 - Important Directories and Files</h1>
    
	<h2 id="important-nginx-directories-and-files">Important nginx Directories and files</h2>
<h3 id="content">Content</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#204a87;font-weight:bold">var</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">www</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">html</span>
</span></span></code></pre></div><p>The actual web content, which by default only consists of the default Nginx page you saw earlier, is served out of the /var/www/html directory. This can be changed by altering Nginx configuration files.</p>
<h3 id="server-configuration">Server Configuration</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/etc/nginx
</span></span></code></pre></div><p>The Nginx configuration directory. All of the Nginx configuration files reside here.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/etc/nginx/nginx.conf
</span></span></code></pre></div><p>The main Nginx configuration file. This can be modified to make changes to the Nginx global configuration.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/etc/nginx/sites-available/
</span></span></code></pre></div><p>The directory where per-site server blocks can be stored. Nginx will not use the configuration files found in this directory unless they are linked to the sites-enabled directory. Typically, all server block configuration is done in this directory, and then enabled by linking to the other directory.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/etc/nginx/sites-enabled/
</span></span></code></pre></div><p>The directory where enabled per-site server blocks are stored. Typically, these are created by linking to configuration files found in the sites-available directory.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/etc/nginx/snippets
</span></span></code></pre></div><p>This directory contains configuration fragments that can be included elsewhere in the Nginx configuration. Potentially repeatable configuration segments are good candidates for refactoring into snippets.</p>
<h3 id="server-logs">Server Logs</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#204a87;font-weight:bold">var</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#204a87">log</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">nginx</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">access</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">log</span>
</span></span></code></pre></div><p>Every request to your web server is recorded in this log file unless Nginx is configured to do otherwise.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#204a87;font-weight:bold">var</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#204a87">log</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">nginx</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">error</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">log</span>
</span></span></code></pre></div><p>Any Nginx errors will be recorded in this log.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-24d2ce8fd5415a458224e30d13704342">7.1.3 - Installing Nginx</h1>
    
	<h1 id="installing-nginx">Installing Nginx</h1>
<h2 id="installing-nginx-on-linux">Installing nginx on Linux</h2>
<p>Ubuntu:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>apt install nginx
</span></span></code></pre></div><p>You may need to adjust UFW rules to allow access to the webserver.</p>
<h2 id="checking-if-your-webserver-is-running">Checking if your webserver is running</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl status nginx
</span></span></code></pre></div><h2 id="managing-the-nginx-process">Managing the nginx process</h2>
<p>To stop nginx:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl stop nginx
</span></span></code></pre></div><p>To start nginx:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl start nginx
</span></span></code></pre></div><p>To restart nginx:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>systemctl restart nginx
</span></span></code></pre></div><p>If you only make configuration changes you can reload without dropping connections:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#000">systemctl</span> <span style="color:#000">reload</span> <span style="color:#000">nginx</span>
</span></span></code></pre></div>
</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-288e84b7bcc4e1b7e941da1a8493d396">8 - Git</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-96bca7d3276056c9886da9f0f60cbe94">8.1 - Git Branches</h1>
    
	<h1 id="git-branches">Git Branches</h1>
<h3 id="creating-new-branches">Creating new branches</h3>
<p>If you have multiple people who contribute to a project then it may be useful to create a new branch so that the master branch is always working and correct.</p>
<p>To create a new branch you can use this command.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git branch X
</span></span></code></pre></div><p>X = name of the new branch</p>
<p>now a new branch has been made but you are not on the branch yet, to switch to a new branch use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git switch X
</span></span></code></pre></div><p>X = name of the branch to switch to</p>
<p>You are now on the new branch.</p>
<p>you could also use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git switch -c X
</span></span></code></pre></div><p>X = new branch name</p>
<p>this will create and switch you to the new branch that you have created.</p>
<h3 id="listing-branches">Listing branches</h3>
<p>To see local branches, run this command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git branch
</span></span></code></pre></div><p>To see remote branches, run this command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git branch -r
</span></span></code></pre></div><p>To see all local and remote branches, run this
command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git branch -a
</span></span></code></pre></div><p>The current branch will be marked with an asterix.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-17c61ac49744d4670f00f7fb41772869">8.2 - Introduction to git</h1>
    
	<h1 id="git">Git</h1>
<h3 id="what-is-git">What is Git?</h3>
<p>Git is a version management tool used to make collaborative efforts a lot easier.</p>
<h3 id="creating-a-new-repository">Creating a new repository:</h3>
<p>To create a new repository using git you should cd to the folder you want to be a repository and type into your terminal:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git init
</span></span></code></pre></div><p>This will create a .git directory known as the working tree.</p>
<h3 id="checking-the-status-of-your-repository">Checking the status of your repository</h3>
<p>Using the &lsquo;git status&rsquo; command will show you what branch you are using, changed files not staged for commit and files that are not currently tracked by git.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git status
</span></span></code></pre></div><h3 id="adding-files-to-your-repository-to-be-tracked">Adding files to your repository to be tracked</h3>
<p>To add files to be tracked you will need to use &lsquo;git add&rsquo; an example of this would be:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git add .
</span></span></code></pre></div><p>Using the command above will add all files inside the folder to be tracked.</p>
<h3 id="commiting-changes-to-the-repository">Commiting changes to the repository</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git commit
</span></span></code></pre></div><p>This command will commit the changes that have been added to the repository, it will bring up your default text editor and ask for a commit message, this is what will be seen when you look at repository history.</p>
<p>I prefer to use the &lsquo;-m&rsquo; switch on my commit and then type the message inside the command meaning it skips the extra step of using a text editor.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git commit -m &#34;MESSAGE GOES HERE&#34;
</span></span></code></pre></div><h3 id="showing-the-history-of-the-repository">Showing the history of the repository</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>git log
</span></span></code></pre></div><p>This command will show you the commits to the project you are looking at, each commit has a unique name called the git hash these are not randomly generated they are generated using SHA-1. The output also shows you the author, commit message and date and time of the commit.</p>
<p>It is useful to see what the project looked like at each stage of the commits so if needed you can restore to a previous state.</p>

</div>



    
	
  

    
	
  



          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-end text-xs-center order-sm-3">
        
        
        
<ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/barophobia/cornucopia" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="td-footer__copyright-etc col-12 col-sm-4 text-center py-2 order-sm-2">
        
        
        
      </div>
    </div>
  </div>
</footer>
    </div>
    
  <script src="/js/main.js"></script>
<script src='/js/prism.js'></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
